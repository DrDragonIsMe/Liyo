# 更新日志

本文档记录 Studdy 项目的所有重要变更和版本更新。

## [1.3.0] - 2024-01-16 🆕

### 新增功能
- ✨ **数学公式渲染系统**
  - 集成 KaTeX 数学公式渲染引擎
  - 支持 LaTeX 格式的行内公式和块级公式
  - 在学习页面题目内容中实现公式渲染
  - 在解题思路部分添加公式显示支持
  - 在知识点详情的相关真题中支持公式渲染

- ✨ **试卷上传功能优化**
  - 修复科目和类型选择模态框
  - 完善上传流程用户体验
  - 优化文件选择和预览功能

### 技术改进
- 🔧 添加 `katex`、`react-katex` 和 `@types/react-katex` 依赖
- 🔧 创建 `MathRenderer` 组件处理公式渲染
- 🔧 实现公式解析和错误处理机制
- 🔧 解决 JWT token 签名验证问题

### 用户体验
- 🎨 数学公式在题目中清晰显示
- 🎨 支持复杂数学表达式的可视化
- 🎨 优化公式渲染性能和显示效果

### 修复问题
- 🐛 修复前端编译语法错误
- 🐛 解决 JWT 认证中间件问题
- 🐛 清除浏览器缓存中的无效 token

---

## [1.2.0] - 2024-01-15

### 新增功能
- ✨ **知识点本地缓存系统**
  - 实现知识点本地存储，优先展示缓存内容
  - 添加数据新鲜度评估机制
  - 支持智能缓存更新策略

- ✨ **知识点内容更新功能**
  - 新增更新按钮，支持一键刷新知识点内容
  - 实现新旧内容对比展示界面
  - 添加强制更新API端点

- ✨ **知识点编辑系统**
  - 支持用户自定义编辑知识点定义
  - 可编辑相关概念列表
  - 记录编辑历史和操作时间
  - 标识用户编辑状态

### 技术改进
- 🔧 创建 `KnowledgePoint` 数据库模型
- 🔧 重构知识点查询API，实现缓存优先逻辑
- 🔧 添加编辑和更新相关API端点
- 🔧 集成 `react-hot-toast` 通知系统
- 🔧 修复TypeScript类型错误

### 用户体验
- 🎨 优化知识点详情界面UI
- 🎨 添加内容来源标识和状态显示
- 🎨 实现编辑模式与查看模式切换
- 🎨 新增内容对比可视化界面

### 修复问题
- 🐛 解决知识点点击后内容为空的问题
- 🐛 修复UTF-8编码处理问题
- 🐛 优化API响应数据结构

---

## [1.1.0] - 2024-01-10

### 新增功能
- ✨ **知识点内容增强**
  - 集成多数据源（教材、网络、AI生成）
  - 添加智能编码检测和转换
  - 实现内容质量评估机制

- ✨ **学习路径系统**
  - 个性化学习路径生成
  - 知识点依赖关系分析
  - 学习进度可视化跟踪

### 技术改进
- 🔧 集成 `iconv-lite` 解决中文编码问题
- 🔧 添加 `axios` 支持外部API调用
- 🔧 优化数据库查询性能
- 🔧 实现API缓存机制

### 用户体验
- 🎨 重构学习页面UI设计
- 🎨 添加学习路径可视化组件
- 🎨 优化移动端响应式布局

---

## [1.0.0] - 2024-01-01

### 核心功能
- ✨ **用户管理系统**
  - 用户注册、登录功能
  - JWT身份认证
  - 个人资料管理

- ✨ **知识点管理**
  - 知识点查询和展示
  - 相关概念关联
  - 考试概率分析

- ✨ **考试题目系统**
  - 多学科题目支持
  - 在线答题功能
  - 成绩统计分析

- ✨ **AI智能助手**
  - 自然语言对话
  - 学习问题解答
  - 智能内容生成

### 技术架构
- 🏗️ **前端技术栈**
  - React 18 + TypeScript
  - Tailwind CSS 样式框架
  - Vite 构建工具
  - Zustand 状态管理

- 🏗️ **后端技术栈**
  - Node.js + Express 框架
  - MongoDB 数据库
  - RESTful API 设计
  - JWT 安全认证

### 基础设施
- 🔧 项目结构搭建
- 🔧 开发环境配置
- 🔧 代码规范和ESLint配置
- 🔧 Git工作流建立

---

## 版本规范

本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范：

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更新类型说明

- 🆕 **新增功能** - 全新的功能特性
- ✨ **功能增强** - 现有功能的改进
- 🔧 **技术改进** - 代码重构、性能优化
- 🎨 **界面优化** - UI/UX 改进
- 🐛 **问题修复** - Bug 修复
- 📚 **文档更新** - 文档和注释更新
- 🔒 **安全更新** - 安全漏洞修复
- ⚡ **性能优化** - 性能提升
- 🗑️ **功能移除** - 废弃功能删除

## 升级指南

### 从 v1.1.0 升级到 v1.2.0

1. **数据库迁移**
   ```bash
   # 无需特殊迁移，新模型会自动创建
   ```

2. **依赖更新**
   ```bash
   npm install  # 安装新依赖
   ```

3. **配置更新**
   - 无需修改现有配置文件
   - 新功能开箱即用

4. **注意事项**
   - 知识点数据会自动迁移到新的缓存系统
   - 首次使用编辑功能时会创建编辑历史记录

### 从 v1.0.0 升级到 v1.1.0

1. **依赖更新**
   ```bash
   npm install iconv-lite axios
   ```

2. **环境变量**
   - 添加外部API配置（可选）

3. **数据库**
   - 无需特殊迁移操作

## 已知问题

### v1.2.0
- 暂无已知问题

### v1.1.0
- 部分网络数据源可能存在访问延迟
- 大量知识点同时查询时可能影响性能

## 反馈与支持

如果您在使用过程中遇到问题或有改进建议，请通过以下方式联系我们：

- 📧 邮箱：support@studdy.com
- 🐛 问题报告：[GitHub Issues](https://github.com/studdy/issues)
- 💬 讨论交流：[GitHub Discussions](https://github.com/studdy/discussions)

---

**维护团队**: Studdy 开发团队  
**文档更新**: 2024-01-15